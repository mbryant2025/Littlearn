# Littlearn Interpreter Syntax

## Introduction

The Littlearn interpreter is a simple interpreter for the custom [RickScript OR C-] language. It is written in C++ and handles the parsing and execution of the language. It is designed specifically for the Littlearn project and is to be run on a microcontroller. It can also be compiled on a computer for testing purposes. The language can control the I/O of the microcontroller and can be used to create simple programs.

The language is procedural and is strongly typed.

## Sample programs

To get a feel for the language, here are some sample programs written using the language.


First, this program will print the Finonacci numbers less than 100. The code syntax is intentionally very similar to that of C.

```c
{ //Whole program is wrapped in a block
        
    //Print the Fibonacci numbers from 0 to 100
    int first = 0;
    int second = 1;
    int next = 0;

    while (second < 100) {
        print(second);
        next = first + second;
        first = second;
        second = next;
        wait(500); //Wait half a second between printing each number

    }

} //End of block
```

Here is another example for the Collatz Conjecture.
This program will print the Collatz sequence for the number 343. The Collatz Conjecture states that for any positive integer n, the sequence will eventually reach 1. The sequence is generated by the following rules:

- If n is even, divide it by 2
- If n is odd, multiply it by 3 and add 1

```c
{
    int n = 343; // Starting number
    int count = 0;
    print(n);
    while (n > 1) {
        count = count + 1;
        int temp = n % 2;
        if (temp - 1) {
            n = n / 2;
        }
        if (temp) {
            n = 3 * n;
            n = n + 1;
        }
        print(n); // Print the current number
        wait(50);
    }
    print(count); // Print the number of steps
}
```

## Syntax

Snake case is recomended but not required. The language is case sensitive.

### Control flow

The language supports the following control flow statements:

- `if` statements

```c
if (condition) {
    // code
}
```

- `if-else` statements

```c
if (condition) {
    // code
} else {
    // code
}
```

- `while` loops

```c
while (condition) {
    // code
}
```

- `break` statements

```c
while (condition) {
    // code
    break;
}
```

- `continue` statements

```c
while (condition) {
    // code
    continue;
}
```

- `wait` statements
  

```c
wait(1000); //Wait 1 second, or 1000 milliseconds
```


### Variables

Variables can be declared and assigned to using the following syntax:

```c
int a = 5;
```

The following types are supported:

- `int` - 32 bit signed integer

```c
int a = 5;
```

- `float` - 32 bit floating point number

```c
float a = 5.0;
```

Note: there is no boolean type. Instead, 0 is false and any other value is true.

### I/O

The language supports the following I/O statements:

- `print` - prints a value to stdout or serial (depending on `__embedded__`), with a newline

```c
print(3.14 + 10);
```

Output:
```
13.14
```

-`print_seven_segment` - prints a value to the seven segment display

```c
print_seven_segment(5);
```

- `read_port` - reads a value from a port (0 or 1)

```c
int a = read_port(1);
```

- `write_port` - writes a value to a port (0 or 1)

```c
write_port(1, 1);
```



## Variable Scoping

Variables are scoped to the block they are declared in. Inner blocks can access variables declared in outer blocks, but not vice versa. For example:

```c
int a = 5; //Outer block

if(a){
    int b = 10; //Inner block
    print(a); //Valid
    if(b){
        print(a); //Valid
        print(b); //Valid
    }

}

if(a){
    float b = 10.5; //Inner block
    print(b); //Valid -- prints 10.5
}

print(b); //Invalid
```

The entire program is to be wrapped in a block. For example:

```c
{
    //Program code
}
```

This block then represents the global scope. Variables declared in this block are accessible from anywhere in the program.

## Expressions

The language supports the following binary operators in any syntax where an expression is expected (e.g. variable assignment, if statements, print statement, etc.):

- `+` - addition

```c
int a = 5 + 10;
```

- `-` - subtraction

```c
int a = 25 - 10;
```

- `*` - multiplication

```c
int a = 5 * 10;
```

- `/` - division

```c
float a = 5 / 7;
```


- `>` - greater than

```c
int a = 5 > 10; //a is 0
```

- `<` - less than

```c
int a = 5 < 10; //a is 1
```

- `%` - modulo

```c
int a = 5 % 2; //a is 1
```

The language also supports chained expressions. For example:

```c
int a = 5 + 10 + 15;
int b = -5 + 10 * 15 / (a + 14) * read_port(1 * x + 314 / (a + 14));
```


## Comments

Comments are supported using the `//` syntax. They do not impact program behavior. For example:

```c
//This is a comment
int a = 5; //This is also a comment
```

Multi-line comments are not supported yet.