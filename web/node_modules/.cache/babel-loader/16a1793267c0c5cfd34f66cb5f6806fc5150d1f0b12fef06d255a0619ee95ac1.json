{"ast":null,"code":"import _regeneratorRuntime from\"/Users/michaelbryant/Desktop/Littlearn/littlearn-web/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/michaelbryant/Desktop/Littlearn/littlearn-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect}from'react';import{useBluetooth}from'../BluetoothContext';import{SendScript}from'../SendScript';import'./styles/LeftBar.css';import{useGeneratedCode}from'../GeneratedCodeContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LeftBar=function LeftBar(_ref){var toggleConsoleVisibility=_ref.toggleConsoleVisibility,toggleTextCodeVisibility=_ref.toggleTextCodeVisibility;var _useBluetooth=useBluetooth(),bluetoothDevice=_useBluetooth.bluetoothDevice,connectToDevice=_useBluetooth.connectToDevice,disconnectDevice=_useBluetooth.disconnectDevice,writeToOutput=_useBluetooth.writeToOutput;var _useGeneratedCode=useGeneratedCode(),generatedCode=_useGeneratedCode.generatedCode;var handleConnect=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return connectToDevice();case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error('Error connecting to Bluetooth device:',_context.t0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function handleConnect(){return _ref2.apply(this,arguments);};}();var handleDisconnect=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return disconnectDevice();case 3:writeToOutput('Disconnected from Bluetooth device.\\n');_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error('Error disconnecting from Bluetooth device:',_context2.t0);case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function handleDisconnect(){return _ref3.apply(this,arguments);};}();var sendScript=SendScript();var uploadBlockly=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var code,script,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;code=generatedCode.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/<br>/g,'\\n');script=\"__SENDSCRIPT__{\"+code+\"}__SENDSCRIPT__\";// wrap in curly braces to make it a script per the interpreter\n_context3.next=5;return sendScript.sendData(script);case 5:response=_context3.sent;writeToOutput('Uploading code.\\n');console.log('Upload Blockly success:',response);_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.error('Error during code upload:',_context3.t0);writeToOutput('Error during code upload.\\n');case 14:case\"end\":return _context3.stop();}},_callee3,null,[[0,10]]);}));return function uploadBlockly(){return _ref4.apply(this,arguments);};}();useEffect(function(){if(bluetoothDevice){console.log('Connected to:',bluetoothDevice.name);}else{console.log('Not connected to any Bluetooth device.');}},[bluetoothDevice,writeToOutput]);var warnNeedConnect=function warnNeedConnect(){if(!bluetoothDevice){alert(\"Please connect to device first!\");return true;}return false;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"Littlearn\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",onClick:bluetoothDevice?handleDisconnect:handleConnect,children:[/*#__PURE__*/_jsx(\"img\",{src:\"./ble.png\",alt:\"BLE\",className:\"icon\"}),bluetoothDevice?'Disconnect':'Connect']}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",onClick:bluetoothDevice?uploadBlockly:warnNeedConnect,children:[/*#__PURE__*/_jsx(\"img\",{src:\"./upload.png\",alt:\"Upload\",className:\"icon\"}),\"Upload Code\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",onClick:toggleConsoleVisibility,children:[/*#__PURE__*/_jsx(\"img\",{src:\"./console.png\",alt:\"Console\",className:\"icon\"}),\"Show Console\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",onClick:toggleTextCodeVisibility,children:[/*#__PURE__*/_jsx(\"img\",{src:\"./text.png\",alt:\"Console\",className:\"icon\"}),\"Show Text Code\"]})]});};export default LeftBar;","map":{"version":3,"names":["React","useEffect","useBluetooth","SendScript","useGeneratedCode","jsx","_jsx","jsxs","_jsxs","LeftBar","_ref","toggleConsoleVisibility","toggleTextCodeVisibility","_useBluetooth","bluetoothDevice","connectToDevice","disconnectDevice","writeToOutput","_useGeneratedCode","generatedCode","handleConnect","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","t0","console","error","stop","apply","arguments","handleDisconnect","_ref3","_callee2","_callee2$","_context2","sendScript","uploadBlockly","_ref4","_callee3","code","script","response","_callee3$","_context3","replace","sendData","sent","log","name","warnNeedConnect","alert","children","className","onClick","src","alt"],"sources":["/Users/michaelbryant/Desktop/Littlearn/littlearn-web/src/components/LeftBar.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useBluetooth } from '../BluetoothContext';\nimport { SendScript } from '../SendScript';\nimport './styles/LeftBar.css';\nimport { useGeneratedCode } from '../GeneratedCodeContext';\n\ninterface LeftBarProps {\n    toggleConsoleVisibility: () => void;\n    toggleTextCodeVisibility: () => void;\n}\n\nconst LeftBar: React.FC<LeftBarProps> = ({ toggleConsoleVisibility, toggleTextCodeVisibility }) => {\n\n    const { bluetoothDevice, connectToDevice, disconnectDevice, writeToOutput } = useBluetooth();\n    const { generatedCode } = useGeneratedCode();\n\n    const handleConnect = async () => {\n        try {\n            await connectToDevice();\n\n        } catch (error) {\n            console.error('Error connecting to Bluetooth device:', error);\n        }\n    };\n\n    const handleDisconnect = async () => {\n        try {\n            await disconnectDevice();\n            writeToOutput('Disconnected from Bluetooth device.\\n');\n        } catch (error) {\n            console.error('Error disconnecting from Bluetooth device:', error);\n        }\n    };\n\n    const sendScript = SendScript();\n    const uploadBlockly = async () => {\n        try {\n            const code = generatedCode.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/<br>/g, '\\n');\n            const script = \"__SENDSCRIPT__{\" + code + \"}__SENDSCRIPT__\"; // wrap in curly braces to make it a script per the interpreter\n            const response = await sendScript.sendData(script);\n            writeToOutput('Uploading code.\\n');\n\n            console.log('Upload Blockly success:', response);\n        } catch (error) {\n            console.error('Error during code upload:', error);\n            writeToOutput('Error during code upload.\\n');\n        }\n    };\n\n    useEffect(() => {\n        if (bluetoothDevice) {\n            console.log('Connected to:', bluetoothDevice.name);\n        } else {\n            console.log('Not connected to any Bluetooth device.');\n        }\n    }, [bluetoothDevice, writeToOutput]);\n\n    const warnNeedConnect = () => {\n        if (!bluetoothDevice) {\n            alert(\"Please connect to device first!\");\n            return true;\n        }\n        return false;\n    }\n\n\n    return (\n        <div>\n\n            <div className=\"logo\">\n                Littlearn\n            </div>\n\n            <div className=\"button-container\" onClick={bluetoothDevice ? handleDisconnect : handleConnect}>\n                <img src=\"./ble.png\" alt=\"BLE\" className=\"icon\" />\n                {bluetoothDevice ? 'Disconnect' : 'Connect'}\n            </div>\n\n            <div className=\"button-container\" onClick={bluetoothDevice ? uploadBlockly : warnNeedConnect}>\n                <img src=\"./upload.png\" alt=\"Upload\" className=\"icon\" />\n                Upload Code\n            </div>\n\n            <div className=\"button-container\" onClick={toggleConsoleVisibility}>\n                <img src=\"./console.png\" alt=\"Console\" className=\"icon\" />\n                Show Console\n            </div>\n\n            <div className=\"button-container\" onClick={toggleTextCodeVisibility}>\n                <img src=\"./text.png\" alt=\"Console\" className=\"icon\" />\n                Show Text Code\n            </div>\n\n\n\n\n        </div>\n    );\n}\n\nexport default LeftBar;\n\n\n\n\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}